<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>FrontUP</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="assets/libs/bootstrap/dist/css/bootstrap.min.css">
  </head>
  <body ng-app="app.frontup" ng-controller="homeController as $home">

    <div class="container">
    <menu-bar> </menu-bar>

    <div class="row">
      <div class="col-md-3">

        <select class="form-control" placeholder="Select a bucket"
            ng-options="bucket.Name for bucket in $home.buckets"
            ng-model="$home.currentBucket"
            ng-click="$home.loadProjects()">
          <option value="">Select a bucket</option>
         </select>
      </div>
      <p class="text-danger" style="margin-top:5px;"> Using bucket: <strong>{{$home.currentBucket.Name || 'none selected'}}</strong></p>
    </div>

    <div ng-if="$home.installedMessage">
      <div class="alert alert-success">
        <a href="" ng-click="$home.installedMessage = null"class="close" data-dismiss="alert">&times;</a>
        {{$home.installedMessage}}
      </div>
    </div>

    <div ng-if="$home.apiError">
      <div class="alert alert-danger">
        <a href="" ng-click="$home.apiError = null"class="close" data-dismiss="alert">&times;</a>
        {{$home.apiError}}
      </div>
    </div>

    <accordion ng-if="$home.currentBucket">
      <accordion-panel ng-repeat="project in $home.projects" heading="{{project.name}}">
        <project-table records="project.records" on-install="$home.install(project)"></project-table>
      </accordion-panel>
    </accordion>

    </div>

    <script type="text/javascript" src="http://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
    <!--
    <script type="text/javascript" src="assets/libs/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="assets/libs/bootstrap/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="assets/libs/angular/angular.min.js"></script>
    -->

    <script type="text/javascript" src="app/modules/home/app.home.js"></script>
    <script type="text/javascript" src="app/modules/home/home.service.js"></script>
    <script type="text/javascript" src="app/components/menuBar/menuBar.module.js"></script>
    <script type="text/javascript" src="app/components/accordion/accordion.module.js"></script>
    <script type="text/javascript" src="app/components/accordion/accordionPanel.js"></script>
    <script type="text/javascript" src="app/components/table/table.module.js"></script>
    <script type="text/javascript" src="app/app.frontup.js"></script>

  </body>
</html>
